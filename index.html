<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bang Tidy – Customisation App</title>
<style>
  body{font-family:system-ui,sans-serif;margin:24px;color:#111}
  .card{padding:16px;border:1px solid #e5e7eb;border-radius:12px;margin-bottom:16px}
  a{color:#2563eb;text-decoration:none}.muted{color:#6b7280}ul{padding-left:18px}
  #debug{position:fixed;right:12px;bottom:12px;width:min(56ch,92vw);max-height:42vh;overflow:auto;
         background:#0b1220;color:#e5e7eb;border:1px solid #334155;border-radius:10px;padding:10px;
         font:12px/1.4 ui-monospace;box-shadow:0 8px 30px #0004}
  #debug b{color:#93c5fd}
</style>
</head>
<body>
<h1>Bang Tidy – Customisation Framework</h1>
<div id="app" class="card">Loading…</div>
<div id="debug" aria-live="polite"><b>Debug</b><br/></div>

<script>
/* ===== Debug box mirrors console ===== */
(function(){
  const box = document.getElementById('debug');
  const add = (label, args) => {
    const msg = [...args].map(v => { try { return typeof v==='string'? v : JSON.stringify(v); } catch { return String(v); } }).join(' ');
    const line = document.createElement('div'); line.innerHTML = `<b>${label}</b> ${msg}`;
    box.appendChild(line); box.scrollTop = box.scrollHeight;
  };
  ['log','info','warn','error'].forEach(fn=>{
    const orig = console[fn].bind(console);
    console[fn] = (...a)=>{ add(fn.toUpperCase()+':', a); orig(...a); };
  });
  window.onerror = (msg, src, line, col, err) => console.error('[onerror]', msg, src, line+':'+col, err && err.stack);
  window.addEventListener('unhandledrejection', e => console.error('[unhandled]', e.reason));
})();

/* ===== Helpers ===== */
const $ = id => document.getElementById(id);
const norm = s => (s ?? '').toString().trim();
